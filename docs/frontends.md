# neumoDVB #


## Configuring the adapters ##

The terminology may be confusing. According to the DVBS-API documentation, each DVB card in your system
is composed of multiple randomly numbered `adapters`. However, DVB-API does not have the concept of a `card`
and has no idea on whether adapters are on the same or on different cards.

According to DVB-API, an adapter consists of one or more frontends. A `frontend` is the combination of a  tuner,
which selects a part of the spectrum and converts it to  some base band, and a demodulator which converts
the analogue input signal into digital DVB data.

An adapter can have multiple frontends, e.g., to support both terrestrial and satellite reception.


However, in some modern cards like TBS6909X, multiple demodulators can be connected to the same tuner and
this connection can even be selected in software. Often this tuner is `full band`, and selects about 1 Ghz of spectrum
and digitizes it.  Some more tuning is then done in the digital domain, but this secondary tuning
is closely integrated with the demodulator.

The concept of a `card` is thus essential, because only frontends
from the same card can be connected to a band tuner on that card. So neumoDVB adopts as the main concepts: `card`, `tuner`,
and `frontend`.  A `frontend` us really only the demodulator (including secondary tuner). As neumoDVB's drivers aim to be
compatible with DVB-API, frontends are exposed as devices like  `/dev/dvb/adapter/0/frontend0`, `/dev/dvb/adapter/0/demux0`,
and `/dev/dvb/adapter/0/dvr0`, with the first one being used to control tuning. How frontends are grouped into `adapters`
is really mostly a choice of the driver developer and so the concept of an `adapter` is not very useful (except to find
out where the frontends are in the device file system).


## Configuring the frontends ##

The first test you should now perform is to check whether neumoDVB can access your DVB devices.
From the `lists` menu, choose `Frontends` (Ctrl-Shift-F). For each frontend in `/dev/dvb/adapterx/frontendy`
one entry should be listed.

![Frontends](images/frontends.png)

Most of the columns provide information, but a few columns can be edited.
In order to edit these values, you first need to enable `Edit mode` (`Ctrl-E`).

Rows in red are for frontends that once were in the computer, but are not available for
some reason, e.g., because the card is not in the system, because the drivers are not loaded,
or because some other program is using the frontend or another frontend on the same adapter.


The columns are:

* `adapter`. Identifies a DVB adapter. The number after A is the linux adapter number, which can change
  between boots if cards are removed or added. neumoDVB detects such changes and adjusts the number accordingly.
  The remaining text shows the name of the card.

* `fe`. Frontend number. Some cards have multiple frontends per adapter,
  which cannot be used simultaneously, e.g. one for DVB-S, and one for DVCB-T/DVB-C. These frontends are numbered
  starting from 0. The list contains one entry per adapter (not per adapter).

* `card#`. **Editable** Card number. This number is generated by neumoDVB and is used to identify the card
  in the GUI in places where there is not much space to show the card name. The number is "stable":
  if you remove the card from the system and later insert it again, the card will still have the same
  number (unless you deleted the neumoDVB database).

  If for some reason you do not like the auto-generated number, then you can change it. neumoDVB will then use this
  number for all frontends on the card. If the new number would cause confusion between cards, neumoDVB will
  renumber the conflicting card.

* `Card`. The full name of the card. This is provided as a separate column to allow you to filter the list so as
  to only display frontends on a s specific card (right click on the column header).

* `Enable`. **Editable** Which DVB standards you want enabled on the card. Usually you want all enabled, but
  suppose that you have a card which supports DVBT and DVBC. Usually such cards have only one connector
  shared by DVBT and DVBC. If this connector is connected to a DVBT antenna, then it cannot receive DVBC
  and you should inform neumoDVB of this by changing the default value "DVB T+C" to "DVB-T".
  This is essential if you have two such cards in the system, one connected to DVBC and another to DVBT
  as there is no way for neumoDVB to know which card is connected to which DVB source.

  It is also possible to select `None` from the list. This is useful if for some reason you want to prevent neumoDVB
  from using a specific frontend.

* `priority`. **Editable** When neumoDVB has a choice between multiple frontends, it will choose the
  one with the highest priority. Usually the default value if fine, but if you want to deter neumoDVB
  from using a specific adapter, e.g., to keep it as much as possible available for other programs,
  then you can set other frontends to a higher priority.

* `subscription`. When a adapter is in use, this column shows what it is used for. In the example, the
  card is using its first RF connector (#0) to tune 10847V on satellite 28.2E using a Ku band LNB,
  identified as LNB 1294.

  Subscriptions apply only to neumoDVB, but it is possible to start the neumoDVB program more than once.
  In this case, subscriptions from all instances will be shown. Such usage has not been well tested and
  there is usually not much reason for it, but it should work.

* `fe use_count`. When neumoDVB needs to tuned to multiple services on the same mux, it uses the same
  adapter for all of them. This keeps as many as possible frontends and resources free for other uses.
  The number indicates how many such subscriptions are active.

* `rf inputs`. High end cards such as the TBS6909X have more demodulators/frontends (e.g., 8) than tuners
  (e.g., 4).  The tuners are each hard-wired to a specific RF input connector and can capture a
  full band (1 Ghz wide) of spectrum at once. The cards feature an internal "RF MUX" which allows connecting
  any demodulator to any tuner. This allows for very flexible use.
  For instance multiple demodulators can tune to muxes on the same LNB, as long as they are in the
  same band and have the same polarisation. Also, each frontend can reach all LNBs on all RF inputs.

  The field shows the available RF inputs, e.g. "0 1 2 3". These numbers correspond to the numbers
  written on the card near each connector (with some exceptions: e.g., for TBS6903X the numbers are
  0 and 3 for the first and second connector). Lower end cards do not have an RF mux. In that case
  the only available input will be "0", but there can be exceptions due to driver limitations.

* `MAC`. MAC address of the adapter. This number is supposed to be unique and allows to distinguish
  multiple cards of the same model in the system. Internally, neumoDVB uses this information to
  identify the adapter, instead of the linux DVB adapter number.

  As explained above, that DVB-API adapter number can change when cards are removed from or
  added to the system. In such a case neumoDVB will not be confused because it only uses the adapter
  number for informational purposes and uses the never changing MAC address to identify the card and its
  frontends.

  Some cards (e.g., test specimens) do not have a proper MAC address set, or some drivers
  do not provide this information correctly. In that case neumoDVB generates a fake MAC address,
  which unfortunately cannot be guaranteed to be stable between boots.

* `Bus`. Identifies the linux USB or PCIe bus to which the card is connected for informational purposes only.
  This will change if you move a card to a different PCIe or USB slot.

* `present`. Shows if the adapter is currently in the system. Note that this information is
   dynamically updated as cards are connected or to or disconnected from the system or as drivers are loaded
   or unloaded.

* `available`. Shows if the adapter is currently available, i.e., not used by other programs
  or for some reason not usable. Note that this information is
  dynamically updated.

* `MIS`. Shows if the adapter supports multi-stream.

* `blindscan`. Shows if the adapter and driver supports blindscan.

* `spec sweep`. Shows if the adapter and driver support low resolution spectrum acquisition, typically by `sweeping`
  the narrow band analog tuner of the card (if the card has one) or the secondary tuner integrated in the demodulator.

* `spec fft`. Shows if the adapter and driver support high resolution FFT-based spectrum acquisition.

* `delsys`. Shows the delivery systems (DVB-S, DVB-S2, DVB-T...) supported by the adapter.

The example shows a TBS 6909X card, which has 8 frontends, along with some other cards which
are currently not in the system.
